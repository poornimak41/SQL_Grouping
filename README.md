# SQL_Grouping
This repo explains the different methods and techniques for grouping rows and performing aggregations using PostgreSQL. The dataset is a simple retail data with 4 related tables. The tables are customers,products, orders, order_details.
Below is a brief description of the different forms of grouping supported by PostgreSQL.
**AGGREGATE FUNCTIONS**
 * Compute a single result from a set of input values
 * Most functions ignore null values ( ** Special case is COUNT(*) which includes the nulls when counting )
 * COUNT,SUM,MIN,MAX,AVG
BASIC SYNTAX:
    SELECT  aggregate_function(column)
    FROM table_name;
   
**GROUP BY**
 * Arrange rows that have the same values in specified columns into groups.
 * Typically used with aggregate functions (like COUNT, SUM, AVG, MIN, MAX) to perform calculations on each group of rows.
BASIC SYNTAX:
    SELECT column1, aggregate_function(column2)
    FROM table_name
    GROUP BY column1;
**HAVING**
* Specifies a filter condition for a group
* Aliases will not work because of the order of execution
**FROM → WHERE → GROUP BY → HAVING → DISTINCT → SELECT → ORDER BY → LIMIT**
BASIC SYNTAX:
    SELECT column1, aggregate_function(column2) FROM table_name
    GROUP BY column1 HAVING CONDITION;
***WHERE filters before grouping; HAVING filters after grouping***

**CUBE**
* Creates all possible combinations of aggregations across specified columns
BASIC SYNTAX:
    SELECT column1, column2, aggregate_function(column3)
    FROM table_name
    GROUP BY CUBE (column1, column2);

**GROUPING SETS**
* Lets you define exactly which groupings you want, without generating all combinations
BASIC SYNTAX
    SELECT column1, column2, aggregate_function(column3)
    FROM table_name
    GROUP BY GROUPING SETS (   (column1, column2), 
    (column1),  	(column2), 	()
    );

**ROLL UP**
* Generates subtotals and a grand total along a hierarchy of columns
* Useful for cumulative aggregations.
BASIC SYNTAX:
    SELECT column1, column2, aggregate_function(column3)
    FROM table_name
    GROUP BY ROLLUP (column1, column2);

**GROUPING()**
* A function that flags if the null is part of the data or a subtotal / grand total row generated by SQL
* 0 → this column is part of the group (normal row).
* 1 → this column is rolled up (subtotal or grand total).
BASIC SYNTAX:
    SELECT column1,column2, AGGREGATE_FUNCTION(column3) AS agg_value,
    GROUPING(column1) AS grp_flag1, GROUPING(column2) AS grp_flag2
    FROM table_name
    GROUP BY ROLLUP (column1, column2);

















